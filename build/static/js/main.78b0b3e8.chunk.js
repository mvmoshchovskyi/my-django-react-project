(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{146:function(e,t,r){},173:function(e,t){},175:function(e,t){},186:function(e,t){},188:function(e,t){},215:function(e,t){},217:function(e,t){},218:function(e,t){},223:function(e,t){},225:function(e,t){},244:function(e,t){},256:function(e,t){},259:function(e,t){},262:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r(1),n=r.n(a),s=r(50),i=r.n(s),d=(r(146),r(9)),o=r(10),l=r(5),j=r(8),u=r.n(j),p=r(12),b=r(14),h=r.n(b),O=r(264),x="SET_ALERT",m="REMOVE_ALERT",f=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(c){var a=Object(O.a)();c({type:x,payload:{msg:e,alertType:t,id:a}}),setTimeout((function(){return c({type:m,payload:a})}),r)}},v="SIGNUP_SUCCESS",g="SIGNUP_FAIL",y="LOGIN_SUCCESS",S="LOGIN_FAIL",N="LOGOUT",C=function(e,t){return function(){var r=Object(p.a)(u.a.mark((function r(c,a){var n,s,i;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:e,password:t}),r.prev=2,r.next=5,h.a.post("".concat("/api","/api/token/"),s,n);case 5:i=r.sent,c({type:y,payload:i.data}),localStorage.setItem("userInfo",JSON.stringify(a().auth.userInfo)),c(f("Authenticated successfully","success")),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),c({type:S}),c(f("Error Authenticated","danger"));case 15:case"end":return r.stop()}}),r,null,[[2,11]])})));return function(e,t){return r.apply(this,arguments)}}()},I=Object(l.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(c.jsx)("div",{className:"alert-".concat(e.alertType),children:e.msg},e.id)}))})),E=Object(l.b)((function(e){return{cartItems:e.cart.cartItems,userInfo:e.auth.userInfo.name}}),{logout:function(){return function(e){e(f("logout successful","success")),e({type:N}),localStorage.removeItem("userInfo"),localStorage.removeItem("cartItems"),localStorage.removeItem("shippingAddress")}}})((function(e){var t=e.cartItems,r=e.userInfo,a=e.logout;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("header",{className:"row",children:[Object(c.jsx)("div",{children:Object(c.jsx)(d.b,{className:"brand",to:"/",children:"Shop"})}),Object(c.jsxs)("div",{children:[Object(c.jsxs)(d.b,{to:"/cart",children:["Cart",t.length>0&&Object(c.jsx)("span",{className:"badge",children:t.length})]}),r?Object(c.jsxs)("div",{className:"dropdown",children:[Object(c.jsxs)(d.b,{to:"#",children:[r," ",Object(c.jsx)("i",{className:"fa fa-caret-down"})," "]}),Object(c.jsx)("ul",{className:"dropdown-content",children:Object(c.jsx)("li",{children:Object(c.jsx)(d.b,{to:"#signout",onClick:function(){a()},children:"Log Out"})})})]}):Object(c.jsx)(d.b,{to:"/signin",children:"Sign In"})]})]}),Object(c.jsx)(I,{})]})})),_=function(e){return Object(c.jsxs)("div",{className:"grid-container",children:[Object(c.jsx)(E,{}),e.children]})},w=r(29),A=r(22);function R(e){var t=e.rating,r=e.numReviews;return Object(c.jsxs)("div",{className:"rating",children:[Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:t>=1?"fa fa-star":t>=.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:t>=2?"fa fa-star":t>=1.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:t>=3?"fa fa-star":t>=2.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:t>=4?"fa fa-star":t>=3.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:Object(c.jsx)("i",{className:t>=5?"fa fa-star":t>=4.5?"fa fa-star-half-o":"fa fa-star-o"})}),Object(c.jsx)("span",{children:r+" reviews"})]})}function T(e){return Object(c.jsxs)("div",{className:"loading",children:[Object(c.jsx)("i",{className:"fa fa-spinner fa-spin"})," Loading..."]})}function P(e){return Object(c.jsx)("div",{className:"alert alert-".concat(e.variant||"info"),children:e.children})}var D="PRODUCT_LIST_REQUEST",k="PRODUCT_LIST_SUCCESS",L="PRODUCT_LIST_FAIL",F="PRODUCT_DETAILS_REQUEST",U="PRODUCT_DETAILS_SUCCESS",M="PRODUCT_DETAILS_FAIL",q="PRODUCT_SEARCH_REQUEST",B="PRODUCT_SEARCH_SUCCESS",J="PRODUCT_SEARCH_FAIL",$="PRODUCT_FILTER_BY_SEX_REQUEST",Q="PRODUCT_FILTER_BY_SEX_SUCCESS",H="PRODUCT_FILTER_BY_SEX_FAIL",G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(){var t=Object(p.a)(u.a.mark((function t(r){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:D,payload:e}),t.prev=1,t.next=4,h.a.get("".concat("/api","/api/products/?page=").concat(e));case 4:c=t.sent,a=c.data,r({type:k,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:L,payload:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},Y=function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:q,payload:e}),t.prev=1,t.next=4,h.a.get("".concat("/api","/api/products/search/?search=").concat(e));case 4:c=t.sent,a=c.data,r({type:B,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:J,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r){var c,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:$,payload:e}),t.prev=1,t.next=4,h.a.get("".concat("/api","/api/products/category/?sex=").concat(e));case 4:c=t.sent,a=c.data,r({type:Q,payload:a}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:H,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},X=Object(l.b)((function(e){return{product:e.productDetails.product,loading:e.productDetails.loading,error:e.productDetails.error}}),{detailsProduct:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,c){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:F,payload:e}),t.prev=1,t.next=4,h.a.get("".concat("/api","/api/products/").concat(e));case 4:a=t.sent,n=a.data,r({type:U,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r({type:M,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,r){return t.apply(this,arguments)}}()}})((function(e){var t=e.product,r=e.loading,n=e.error,s=e.detailsProduct,i=Object(a.useState)(1),l=Object(A.a)(i,2),j=l[0],u=l[1],p=Object(o.h)().productId;Object(a.useEffect)((function(){s(p)}),[s,p]);var b=Object(o.f)();return Object(c.jsx)("div",{children:r?Object(c.jsx)(T,{}):n?Object(c.jsx)(P,{variant:"danger",children:n}):Object(c.jsxs)("div",{children:[Object(c.jsx)(d.b,{to:"/",children:"Back to result"}),Object(c.jsxs)("div",{className:"row top",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsx)("img",{className:"large",src:t.image,alt:t.name})}),Object(c.jsx)("div",{className:"col-1",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("h1",{children:t.name})}),Object(c.jsx)("li",{children:Object(c.jsx)(R,{rating:t.rating,numReviews:t.numReviews})}),Object(c.jsxs)("li",{children:["Pirce : $",t.price]}),Object(c.jsxs)("li",{children:["Description:",Object(c.jsx)("p",{children:t.description})]})]})}),Object(c.jsx)("div",{className:"col-1",children:Object(c.jsx)("div",{className:"card card-body",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"Price"}),Object(c.jsxs)("div",{className:"price",children:["$",t.price]})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"Status"}),Object(c.jsx)("div",{children:t.countInStock>0?Object(c.jsx)("span",{className:"success",children:"In Stock"}):Object(c.jsx)("span",{className:"danger",children:"Unavailable"})})]})}),t.countInStock>0&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"QTY"}),Object(c.jsx)("div",{children:Object(c.jsx)("select",{value:j,onChange:function(e){return u(e.target.value)},children:Object(w.a)(Array(t.countInStock).keys()).map((function(e){return Object(c.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{onClick:function(){b.push("/cart/".concat(p,"?qty=").concat(j))},className:"primary block",children:" Add to Cart"})})]})]})})})]})]})})}));function K(e){var t=e.product;return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)(d.b,{to:"/product/".concat(t.id),children:Object(c.jsx)("img",{className:"medium",src:t.image,alt:t.name})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)(d.b,{to:"/product/".concat(t.id),children:Object(c.jsx)("h2",{children:t.name})}),Object(c.jsx)(R,{rating:t.rating,numReviews:t.numReviews}),Object(c.jsxs)("div",{className:"price",children:["$",t.price]})]})]},t.id)}var V=Object(l.b)((function(e){return{totalResults:e.productList.totalResults,currentPage:e.productList.currentPage,next:e.productList.next,previous:e.productList.next,sex:e.productList.sex}}),{listProducts:G,productSearch:Y,filterProducts:z})((function(e){var t=e.currentPage,r=e.totalResults,a=e.listProducts,n=e.sex;e.filterProducts;console.log("SEX",n);var s=Math.floor(r/6),i=[],d=s,o=t-2;o<=0&&(o=1);var l=t+2;l>d&&(l=d);for(var j=function(e){i.push(Object(c.jsx)("div",{className:e===t?"round-effect active":"round-effect",onClick:function(){a(e)},children:e},e))},u=o;u<=l;u++)j(u);return Object(c.jsx)("div",{className:"pagination-container",children:Object(c.jsxs)("div",{className:"paginate-ctn",children:[Object(c.jsxs)("div",{className:o===t?"":"round-effect",onClick:function(){t>1&&a(t-1)},children:[" ",o!==t?"<":""," "]}),i,Object(c.jsxs)("div",{className:l===t?"":"round-effect",onClick:function(){t<d&&a(t+1)},children:[" ",l!==t?">":""," "]})]})})})),W=Object(l.b)((function(e){return{}}),{productSearch:Y})((function(e){var t=e.productSearch,r=Object(a.useState)(""),n=Object(A.a)(r,2),s=n[0],i=n[1];return Object(c.jsx)("form",{className:"search",onSubmit:function(e){e.preventDefault(),t(s),i("")},children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("input",{name:"searchKeyword",placeholder:"search",value:s,onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("button",{className:"primary",type:"submit",children:Object(c.jsx)("i",{className:"fa fa-search"})})]})})})),Z=Object(l.b)((function(e){return{sex:e.productList.sex,loading:e.productList.loading,error:e.productList.error,totalResults:e.productList.totalResults}}),{filterProducts:z})((function(e){var t=e.sex,r=e.filterProducts,a=e.totalResults;return Object(c.jsxs)("div",{className:"filter",children:[Object(c.jsxs)("div",{className:"filter-result",children:[a," item"]}),Object(c.jsxs)("div",{className:"filter-size",children:["Filter"," ",Object(c.jsxs)("select",{value:t,onChange:function(e){return r(e.target.value)},children:[Object(c.jsx)("option",{value:"",children:"ALL"}),Object(c.jsx)("option",{value:"Man",children:"MAN"}),Object(c.jsx)("option",{value:"Woman",children:"WOMAN"})]})]})]})})),ee=Object(l.b)((function(e){return{products:e.productList.products,loading:e.productList.loading,error:e.productList.error,totalResults:e.productList.totalResults}}),{listProducts:G,productSearch:Y})((function(e){var t=e.products,r=e.loading,n=e.error,s=e.listProducts,i=e.totalResults;return Object(a.useEffect)((function(){s()}),[s]),Object(c.jsxs)(c.Fragment,{children:[r?Object(c.jsx)(T,{}):n?Object(c.jsx)(P,{variant:"danger",children:n}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"search_box",children:[Object(c.jsx)(W,{}),Object(c.jsx)(Z,{})]}),Object(c.jsx)("div",{className:"row center",children:t.map((function(e){return Object(c.jsx)(K,{product:e},e.id)}))})]}),i>6&&Object(c.jsx)(V,{})]})})),te="CART_ADD_ITEM",re="CART_REMOVE_ITEM",ce="CART_SAVE_PAYMENT_METHOD",ae="CART_EMPTY",ne="CART_CREATE_REQUEST",se="CART_CREATE_SUCCESS",ie="CART_CREATE_FAIL",de=function(e){return"$"+Number(e.toFixed(2)).toLocaleString()+" "},oe=Object(l.b)((function(e){return{cartItems:e.cart.cartItems,userInfo:e.auth.userInfo.name,shippingAddress:e.address.shippingAddress}}),{addToCart:function(e,t){return function(){var r=Object(p.a)(u.a.mark((function r(c,a){var n,s;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h.a.get("".concat("/api","/api/products/").concat(e));case 2:n=r.sent,s=n.data,c({type:te,payload:{name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,product:s.id,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},removeFromCart:function(e){return function(t,r){t({type:re,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}},checkoutHandler:function(){return function(){var e=Object(p.a)(u.a.mark((function e(t,r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}})((function(e){var t=e.userInfo,r=e.cartItems,n=e.addToCart,s=e.removeFromCart,i=(e.shippingAddress,e.checkoutHandler,Object(o.h)().cartId),l=Object(o.f)(),j=Object(o.g)(),u=j.search?Number(j.search.split("=")[1]):1;Object(a.useEffect)((function(){i&&n(i,u)}),[n,i,u]);return Object(c.jsxs)("div",{className:"row top",children:[Object(c.jsxs)("div",{className:"col-2",children:[Object(c.jsx)("h1",{children:"Shopping Cart"}),0===r.length?Object(c.jsxs)(P,{children:["Cart is empty. ",Object(c.jsx)(d.b,{to:"/",children:"Go Shopping"})]}):Object(c.jsx)("ul",{children:r.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(c.jsx)("div",{className:"min-30",children:Object(c.jsx)(d.b,{to:"/product/".concat(e.product),children:e.name})}),Object(c.jsx)("div",{children:Object(c.jsx)("select",{value:e.qty,onChange:function(t){return n(e.product,Number(t.target.value))},children:Object(w.a)(Array(e.countInStock).keys()).map((function(e){return Object(c.jsx)("option",{value:e+1,children:e+1},e+1)}))})}),Object(c.jsxs)("div",{children:["$",e.price]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"button",onClick:function(){return t=e.product,void s(t);var t},children:"Delete"})})]})},e.product)}))})]}),Object(c.jsx)("div",{className:"col-1",children:Object(c.jsx)("div",{className:"card card-body",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("h2",{children:["Subtotal (",r.reduce((function(e,t){return e+t.qty}),0)," items) :",de(r.reduce((function(e,t){return e+t.price*t.qty}),0))]})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"button",onClick:function(){t?l.push("/shipping"):l.push("/signin?redirect=shipping")},className:"primary block",disabled:0===r.length,children:"Proceed to Checkout"})})]})})})]})})),le=r(28),je=r(2),ue=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.productDetails.loading,error:e.productDetails.error}}),{login:C})((function(e){var t=e.login,r=e.isAuthenticated,n=e.error,s=e.loading,i=Object(a.useState)({email:"",password:""}),l=Object(A.a)(i,2),j=l[0],u=l[1],p=j.email,b=j.password,h=function(e){return u(Object(je.a)(Object(je.a)({},j),{},Object(le.a)({},e.target.name,e.target.value)))},O=Object(o.g)(),x=Object(o.f)(),m=O.search?O.search.split("=")[1]:"/";return Object(a.useEffect)((function(){r&&x.push(m)}),[r,x,m]),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(p,b)},children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Sign In"})}),s&&Object(c.jsx)(T,{}),n&&Object(c.jsx)(P,{variant:"danger",children:n}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(c.jsx)("input",{type:"email",placeholder:"Email",name:"email",value:p,onChange:function(e){return h(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",placeholder:"Password",name:"password",value:b,onChange:function(e){return h(e)},minLength:"6"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{}),Object(c.jsx)("button",{className:"primary",type:"submit",children:"Sign In"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{}),Object(c.jsxs)("div",{children:["New customer?"," ",Object(c.jsx)(d.b,{to:"/register?redirect=".concat(m),children:"Create your account"})]})]})]})})})),pe=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,loading:e.productDetails.loading,error:e.productDetails.error}}),{setAlert:f,signUp:function(e){var t=e.name,r=e.email,c=e.password,a=e.password2;return function(){var e=Object(p.a)(u.a.mark((function e(n){var s,i,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-Type":"application/json"}},i=JSON.stringify({name:t,email:r,password:c,password2:a}),e.prev=2,e.next=5,h.a.post("".concat("/api","/api/accounts/register"),i,s);case 5:d=e.sent,n({type:v,payload:d.data}),n(C(r,c)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),n({type:g}),n(f("Error Authenticating","danger"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.setAlert,r=e.signUp,n=e.isAuthenticated,s=e.loading,i=e.error,l=Object.freeze({email:"",username:"",password:"",password2:""}),j=Object(a.useState)({initialFormData:l}),u=Object(A.a)(j,2),p=u[0],b=u[1],h=p.name,O=p.email,x=p.password,m=p.password2,f=function(e){return b(Object(je.a)(Object(je.a)({},p),{},Object(le.a)({},e.target.name,e.target.value.trim())))};console.log(l.username);var v=Object(o.f)(),g=Object(o.g)(),y=g.search?g.search.split("=")[1]:"/";return Object(a.useEffect)((function(){n&&v.push(y)}),[v,y,n]),Object(c.jsx)("div",{children:Object(c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),x!==m?t("Passwords do not match","error"):r({name:h,email:O,password:x,password2:m})},children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Create Account"})}),s&&Object(c.jsx)(T,{}),i&&Object(c.jsx)(P,{variant:"danger",children:i}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{id:"name",type:"text",placeholder:"Name",name:"name",onChange:f,required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(c.jsx)("input",{id:"email",type:"email",placeholder:"Email",name:"email",onChange:f,required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{id:"password",type:"password",placeholder:"Password",name:"password",onChange:f,minLength:"6"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),Object(c.jsx)("input",{id:"confirmPassword",type:"password",placeholder:"Confirm Password",name:"password2",onChange:f,minLength:"6"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{}),Object(c.jsx)("button",{className:"primary",type:"submit",children:"Register"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{}),Object(c.jsxs)("div",{children:["Already have an account?"," ",Object(c.jsx)(d.b,{to:"/signin?redirect=".concat(y),children:"Sign-In"})]})]})]})})})),be="ADDRESS_CREATE_REQUEST",he="ADDRESS_CREATE_SUCCESS",Oe="ADDRESS_CREATE_FAIL";function xe(e){return Object(c.jsxs)("div",{className:"row checkout-steps",children:[Object(c.jsx)("div",{className:e.step1?"active":"",children:"Sign-In"}),Object(c.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(c.jsx)("div",{className:e.step3?"active":"",children:"Payment"}),Object(c.jsx)("div",{className:e.step4?"active":"",children:"Place Order"})]})}var me=Object(l.b)((function(e){return{user:e.auth.userInfo}}),{saveShippingAddress:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,c){var a,n,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:be,payload:e}),t.prev=1,a=c().auth.userInfo.access,n={headers:{authorization:"Bearer ".concat(a)}},t.next=6,h.a.post("".concat("/api","/api/address/create/"),e,n);case 6:s=t.sent,i=s.data,localStorage.setItem("shippingAddress",JSON.stringify(i)),r({type:he,payload:i}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r({type:Oe,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}()}})((function(e){var t=e.saveShippingAddress,r=e.user,n=Object(a.useState)({first_name:"",last_name:"",address:"",city:"",postal_code:"",phone:""}),s=Object(A.a)(n,2),i=s[0],d=s[1],l=Object(o.f)();r||l.push("/signin");var j=function(e){d(Object(je.a)(Object(je.a)({},i),{},Object(le.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)("div",{children:[Object(c.jsx)(xe,{step1:!0,step2:!0}),Object(c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(i),l.push("/payment")},children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Shipping Address"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(c.jsx)("input",{type:"text",id:"firstName",name:"first_name",placeholder:"Enter first name",onChange:function(e){return j(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(c.jsx)("input",{type:"text",id:"lastName",name:"last_name",placeholder:"Enter last name",onChange:function(e){return j(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"address",children:"Address"}),Object(c.jsx)("input",{type:"text",id:"address",name:"address",placeholder:"Enter address",onChange:function(e){return j(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"city",children:"City"}),Object(c.jsx)("input",{type:"text",id:"city",name:"city",placeholder:"Enter city",onChange:function(e){return j(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(c.jsx)("input",{type:"text",id:"postalCode",name:"postal_code",placeholder:"Enter postal code",onChange:function(e){return j(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(c.jsx)("input",{type:"text",id:"phone",name:"phone",placeholder:"Enter phone",onChange:function(e){return j(e)},required:!0})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{}),Object(c.jsx)("button",{className:"primary",type:"submit",children:"Continue"})]})]})]})})),fe=Object(l.b)((function(e){return{shippingAddress:e.address.shippingAddress}}),{savePaymentMethod:function(e){return function(t){t({type:ce,payload:e})}}})((function(e){var t=e.savePaymentMethod,r=(e.shippingAddress,Object(a.useState)("liqPay")),n=Object(A.a)(r,2),s=n[0],i=n[1],d=Object(o.f)();return Object(c.jsxs)("div",{children:[Object(c.jsx)(xe,{step1:!0,step2:!0,step3:!0}),Object(c.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),t(s),d.push("/placeorder")},children:[Object(c.jsx)("div",{children:Object(c.jsx)("h1",{children:"Payment Method"})}),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",id:"liqPay",value:"liqPay",name:"paymentMethod",required:!0,checked:!0,onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"liqPay",children:"LiqPay"})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"radio",id:"creditCard",value:"creditCard",name:"paymentMethod",required:!0,onChange:function(e){return i(e.target.value)}}),Object(c.jsx)("label",{htmlFor:"creditCard",children:"Credit Card"})]})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{}),Object(c.jsx)("button",{className:"primary",type:"submit",children:"Continue"})]})]})]})})),ve="ORDER_CREATE_REQUEST",ge="ORDER_CREATE_SUCCESS",ye="ORDER_CREATE_FAIL",Se="ORDER_CREATE_REQUEST",Ne="ORDER_CREATE_SUCCESS",Ce="ORDER_CREATE_FAIL",Ie="ORDER_CREATE_RESET",Ee=Object(l.b)((function(e){return{loading:e.productList.loading,error:e.productList.error,paymentMethod:e.cart.paymentMethod,cart:e.cart,userId:e.auth.userInfo.id,shippingAddress:e.address.shippingAddress}}),{createOrder:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,c){var a,n,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:ve}),t.prev=1,a=c().auth.userInfo.access,n={headers:{authorization:"Bearer ".concat(a)}},t.next=6,h.a.post("".concat("/api","/api/orders/create/"),e,n);case 6:s=t.sent,i=s.data,r({type:ge,payload:i}),r({type:ae}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r({type:ye,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e,r){return t.apply(this,arguments)}}()}})((function(e){var t=e.userId,r=e.shippingAddress,a=e.paymentMethod,n=e.loading,s=e.error,i=e.cart,l=e.createOrder,j=Object(o.f)();a||j.push("/payment");var u=function(e){return Number(e.toFixed(2))};i.itemsPrice=u(i.cartItems.reduce((function(e,t){return e+t.qty*t.price}),0)),i.delivery=u(.15*i.itemsPrice),i.totalPrice=i.itemsPrice+i.delivery;return Object(c.jsxs)("div",{children:[Object(c.jsx)(xe,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(c.jsxs)("div",{className:"row top",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card card-body",children:[Object(c.jsx)("h2",{children:"Shipping"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Name:"})," ",r.first_name," ",r.last_name,Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:"Address: "})," ",r.address,",",r.city,", ",r.postal_code]})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card card-body",children:[Object(c.jsx)("h2",{children:"Payment"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Method:"})," ",a]})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card card-body",children:[Object(c.jsx)("h2",{children:"Order Items"}),Object(c.jsx)("ul",{children:i.cartItems.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:e.image,alt:e.name,className:"small"})}),Object(c.jsx)("div",{className:"min-30",children:Object(c.jsx)(d.b,{to:"/product/".concat(e.product),children:e.name})}),Object(c.jsxs)("div",{children:[e.qty," x $",e.price," = ",de(e.qty*e.price)]})]})},e.product)}))})]})})]})}),Object(c.jsx)("div",{className:"col-1",children:Object(c.jsx)("div",{className:"card card-body",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Order Summary"})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"Items"}),Object(c.jsxs)("div",{children:["$",i.itemsPrice.toFixed(2)]})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"Delivery"}),Object(c.jsxs)("div",{children:["$",i.delivery.toFixed(2)]})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:Object(c.jsx)("strong",{children:" Order Total"})}),Object(c.jsx)("div",{children:Object(c.jsxs)("strong",{children:["$",i.totalPrice.toFixed(2)]})})]})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{type:"button",onClick:function(){l({items_price:i.itemsPrice,total_price:i.totalPrice,delivery_price:i.delivery,payment_method:a,user:t,shipping_address:r.id,order_items:i.cartItems}),j.push("/liqpay")},className:"primary block",disabled:0===i.cartItems.length,children:"Buy Order"})}),n&&Object(c.jsx)(T,{}),s&&Object(c.jsx)(P,{variant:"danger",children:s})]})})})]})]})})),_e=r(138),we=Object(l.b)((function(e){return{loading:e.order.loading,error:e.order.error,orderDetail:e.order.orderDetail,shippingAddress:e.address.shippingAddress}}),{deleteOrder:function(e){return function(){var t=Object(p.a)(u.a.mark((function t(r,c){var a,n,s,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:Se}),t.prev=1,a=c().auth.userInfo.access,n={headers:{authorization:"Bearer ".concat(a)}},t.next=6,h.a.delete("".concat("/api","/api/orders/").concat(e),n);case 6:s=t.sent,i=s.data,r({type:Ne,payload:i}),r(f("Deleted successfully","danger")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),r({type:Ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,r){return t.apply(this,arguments)}}()}})((function(e){var t=e.orderDetail,r=e.loading,a=e.error,n=e.shippingAddress,s=e.deleteOrder,i=Object(o.f)(),d=function(){return Object(c.jsx)("button",{style:{backgroundColor:"green",color:"#fff",borderColor:"#2e6da4",border:"1px solid transparent",borderRadius:"6px",padding:"6px 12px",cursor:"pointer"},children:"Confirm & Payment"})};return Object(c.jsx)(c.Fragment,{children:r?Object(c.jsx)(T,{}):a?Object(c.jsx)(P,{variant:"danger",children:a}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row top",children:[Object(c.jsx)("div",{className:"col-2",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card card-body",children:[Object(c.jsx)("h2",{children:"Shipping"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Name:"})," ",n.first_name," ",n.last_name,Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:"Address: "})," ",n.address,",",n.city,", ",n.postal_code]})]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"card card-body",children:[Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Payment for Order N:"})," ",t.id]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("strong",{children:"Method:"})," ",t.payment_method]})]})})]})}),Object(c.jsx)("div",{className:"col-1",children:Object(c.jsx)("div",{className:"card card-body",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("h2",{children:"Order Summary"})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"Items price"}),t.items_price]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:"Delivery price"}),t.delivery_price]})}),Object(c.jsx)("li",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{children:Object(c.jsx)("strong",{children:" Order Total"})}),Object(c.jsx)("div",{children:Object(c.jsxs)("strong",{children:["$",t.total_price]})})]})})]})})})]}),Object(c.jsx)("div",{className:"liq_pay_pay",children:Object(c.jsx)(_e.a,{publicKey:"i93219093548",privateKey:"3SYTz4KnXwMB6uFMFHiCbFEp9ifBAA5MuiOjSjhG",description:"\u041e\u043f\u043b\u0430\u0442\u0430 \u0437\u0430 \u0442\u043e\u0432\u0430\u0440",orderId:Math.floor(1+9e8*Math.random()),result_url:"http://domain.com/user/account",server_url:"http://server.domain.com/liqpay",product_description:"Online shopping",amount:t.total_price,currency:"UAH",style:{margin:"8px"},extra:[Object(c.jsx)(d,{},"1")]})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{className:"primary block",onClick:function(){s(t.id),i.push("/")},children:"Refuse from order"})})]})})}));var Ae=function(){return Object(c.jsx)(d.a,{children:Object(c.jsxs)(_,{children:[Object(c.jsx)("main",{children:Object(c.jsxs)(o.c,{children:[Object(c.jsxs)(o.a,{exact:!0,path:"/cart/:cartId?",children:[" ",Object(c.jsx)(oe,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/product/:productId",children:[" ",Object(c.jsx)(X,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/signin",children:[Object(c.jsx)(ue,{})," "]}),Object(c.jsx)(o.a,{exact:!0,path:"/register",children:Object(c.jsx)(pe,{})}),Object(c.jsxs)(o.a,{exact:!0,path:"/shipping",children:[" ",Object(c.jsx)(me,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/payment",children:[" ",Object(c.jsx)(fe,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/placeorder",children:[" ",Object(c.jsx)(Ee,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/liqpay",children:[" ",Object(c.jsx)(we,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/category/:id",children:[" ",Object(c.jsx)(ee,{})," "]}),Object(c.jsxs)(o.a,{exact:!0,path:"/",children:[" ",Object(c.jsx)(ee,{})," "]})]})}),Object(c.jsx)("footer",{className:"row center",children:"Developed by Moshchovskyi Mykhailo"})]})})},Re=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,265)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),c(e),a(e),n(e),s(e)}))},Te=r(27),Pe=r(139),De=r(140),ke=[],Le={isAuthenticated:!1,loading:!1,error:!1,userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):""},Fe={products:[],product:{},loading:!1,error:!1,totalResults:0,next:null,previous:null,currentPage:1},Ue={cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],paymentMethod:"liqPay"},Me={orderDetail:{},loading:!0,error:!1},qe={shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},loading:!1,error:!1},Be=Object(Te.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,r=t.type,c=t.payload;switch(r){case x:return[].concat(Object(w.a)(e),[c]);case m:return e.filter((function(e){return e.id!==c}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,r=t.type,c=t.payload;switch(r){case y:return Object(je.a)(Object(je.a)({},e),{},{token:c.access,isAuthenticated:!0,loading:!1,userInfo:c});case v:return Object(je.a)(Object(je.a)({},e),{},{isAuthenticated:!1,loading:!0});case g:case S:case N:return Object(je.a)(Object(je.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,userInfo:""});default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,r=t.type,c=t.payload;switch(r){case D:return Object(je.a)(Object(je.a)({},e),{},{loading:!0,currentPage:c});case q:case $:return Object(je.a)(Object(je.a)({},e),{},{loading:!0});case k:case B:case Q:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,products:c.results,totalResults:c.count,next:c.next,previous:c.previous});case J:case L:case H:return{loading:!1,error:!0};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,r=t.type,c=t.payload;switch(r){case F:return{loading:!0};case U:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,product:c});case M:return{loading:!1,error:c};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0,r=t.type,c=t.payload;switch(r){case te:var a=c,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(je.a)(Object(je.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}):Object(je.a)(Object(je.a)({},e),{},{cartItems:[].concat(Object(w.a)(e.cartItems),[a])});case re:return Object(je.a)(Object(je.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==c}))});case ne:return{loading:!0};case se:return Object(je.a)(Object(je.a)({},e),{},{cartItems:c});case ie:return{loading:!1,error:c};case ae:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,error:c,cartItems:[]});case ce:return Object(je.a)(Object(je.a)({},e),{},{paymentMethod:c});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0};case ge:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,error:!1,orderDetail:t.payload});case ye:return{loading:!1,error:t.payload};case Se:return{loading:!0};case Ne:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,error:!1,orderDetail:t.payload});case Ce:return{loading:!1,error:t.payload};case Ie:return{};default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0,r=t.type,c=t.payload;switch(r){case be:return{loading:!0};case he:return Object(je.a)(Object(je.a)({},e),{},{loading:!1,shippingAddress:c});case Oe:return{loading:!1,error:t.payload};default:return e}}}),Je=[De.a],$e=Object(Te.createStore)(Be,{},Object(Pe.composeWithDevTools)(Te.applyMiddleware.apply(void 0,Je)));i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(l.a,{store:$e,children:Object(c.jsx)(Ae,{})})}),document.getElementById("root")),Re()}},[[262,1,2]]]);
//# sourceMappingURL=main.78b0b3e8.chunk.js.map